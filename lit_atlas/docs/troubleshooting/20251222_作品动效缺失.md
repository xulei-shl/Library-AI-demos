# 故障复盘报告
- **日期**: 2025-12-22
- **严重级别**: Medium

## 1. 问题现象
地图底图可见，但作品路径与涟漪动效始终未出现，控制台只有 InkLayer 的 postrender 日志，用户感知为“作品动画缺失”。

## 2. 根本原因 (Root Cause)
enderRoute 在计算生长阶段的部分路径时要求 	argetIndex > 0 才绘制。多数路线只有起点与终点两个坐标，导致在整个 GROWING 阶段 	argetIndex 始终为 0，函数直接 eturn，路径既不成长也不会在后续阶段出现动画，视觉上等同于没有动效。

## 3. 解决方案
重写插值逻辑：无论路线包含多少节点，都以当前段的起点与下一点进行插值，至少绘制一段从起点朝终点延伸的 LineString。这样即使只有两点，也能看到从 0 → 100% 的生长动画。

## 4. 预防措施
- 在新增动效时使用真实数据（仅两点的线段）进行回归测试，避免只在多点样条上验证。
- 为自定义渲染函数补充单元测试，覆盖“只有起终点”这类边界场景。
- 页面验收时明确观察动画阶段（GROWING/RIPPLING）是否都被触发。
