## 热点图书推荐模块 - 需求与设计文档


## 需求分析

### 1.1 现状分析

当前系统基于借阅数据进行推荐，存在滞后性
无法捕捉实时热点话题和文化趋势
推荐结果局限于已有馆藏，缺乏对当前社会热点的响应

### 1.2 问题定义

感知滞后：传统借阅数据无法实时捕捉社会热点
知识盲区：系统无法理解新兴文化现象和网络热点
时效性差：推荐结果与当前社会关注点脱节
用户需求错配：无法满足用户对热点话题相关图书的即时需求

### 1.3 目标需求

构建小时级追踪社会热点的自动化系统
实现热点话题与馆藏图书的智能匹配
提供实时热点相关的图书推荐服务
建立反馈闭环，持续优化推荐质量

## 系统架构设计

### 2.1 整体架构

热点感知 → 热点理解 → 需求推理 → 图书召回 → 三级审核 → 热点聚合 → 反馈闭环

### 2.2 核心组件设计

#### 2.2.1 热点数据收集组件

功能：从社交媒体、新闻平台、文化事件等渠道收集热点话题
数据源：
微博热搜榜
百度热搜榜
知乎热门话题
新闻媒体热点
影视娱乐事件
更新频率：每小时更新一次
输出：热点词条列表（包含热度、来源、时间戳）

#### 2.2.2 热点理解组件

功能：使用LLM深度理解热点话题的文化内涵、社会意义和知识价值
处理流程：
热点调查Agent进行多源信息检索
事实凝练生成热点详情
核心实体抽取（人物、事件、概念等）
商业化潜力评估（文化价值、教育意义）
输出：结构化热点信息（词条、详情、实体词、价值评估）

#### 2.2.3 需求推理组件

功能：从热点话题推导用户可能的阅读需求
推理逻辑：
锚定核心实体，推理阅读动机
生成可关联的搜索词
场景化需求定制
输出：需求说明和关联搜索词列表

#### 2.2.4 图书召回组件

功能：基于热点理解和需求推理，从馆藏中召回相关图书
召回策略：
文本召回：基于关键词匹配
语义召回：基于语义相似度
主题召回：基于主题分类
输出：相关图书列表

#### 2.2.5 三级级联审核组件

功能：对召回结果进行多层筛选，确保质量和合规性
三级审核：
R1：热点合规性检查（政治敏感、风险排查）
R2：热点-图书相关性检查
R3：内容质量检查
输出：通过审核的图书推荐列表

#### 2.2.6 热点聚合组件

功能：将描述同一事件的不同热点词条聚合
聚合策略：
基于关键词的粗筛
基于语义相似度的精排
基于图算法的话题生成
输出：聚合后的热点话题列表

#### 2.2.7 反馈闭环组件

功能：收集用户反馈，优化推荐算法
反馈来源：
点击率数据
借阅转化率
用户评价
优化机制：
RAG知识库扩充
模型参数调优
策略调整

## 技术实现方案

### 3.1 数据结构设计

#### 热点词条数据结构

class HotTopic:
    term: str          # 热点词条
    details: str       # 热点详情
    entities: List[str] # 核心实体词
    commercial_potential: float  # 商业化潜力评分
    source: str        # 数据来源
    timestamp: datetime # 时间戳
    热度: int          # 热度值

#### 图书召回结果数据结构

class BookRecallResult:
    topic_id: str      # 关联的热点ID
    book_id: str       # 图书ID
    relevance_score: float  # 相关性评分
    recall_reason: str # 召回理由
    status: str        # 审核状态

### 3.2 系统接口设计

热点数据API：提供热点数据的获取和更新
图书匹配API：提供热点与图书的匹配服务
推荐结果API：提供热点图书推荐结果
反馈收集API：收集用户反馈数据

### 3.3 与现有系统集成

复用现有的图书数据存储和检索机制
集成现有的LLM调用框架
利用现有的Excel处理和报告生成能力
与现有的推荐评选流程结合
